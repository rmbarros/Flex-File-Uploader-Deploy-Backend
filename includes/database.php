<?phpclass database{		var $ligacao;        function database(){                 define("DB_HOST","localhost");                 define("DB_NAME","ford_concessionarios");                 define("DB_USER","root");                 define("DB_PASSWORD","");                                 define('USE_PCONNECT', 'false');                 define('STORE_SESSIONS', 'mysql');                 $this->db_connect();        }        function db_connect($server = DB_HOST, $username = DB_USER, $password = DB_PASSWORD, $database = DB_NAME) {                                if (USE_PCONNECT == 'true') {$this->ligacao = mysql_pconnect($server, $username, $password);}                else {$this->ligacao = mysql_connect($server, $username, $password);}                if ($this->ligacao) {					mysql_select_db($database);				}else{					die("Cannot connet to database.");				}								mysql_query("SET NAMES 'utf-8'");				                       }				        function executa($sql){							                //echo($query);                $result = mysql_query($sql, $this->ligacao);				if (!$result) {				    $this->handleError($sql);				}                return $result;								        }								function selecciona($tabela, $colunas, $condicao = null, $ordem = null){						$sql = "Select ". $colunas ." from ". $tabela;			echo $sql;			if($condicao){				$sql .= " where ". $condicao;			}						if($ordem){				$sql .= " order by ". $ordem;			}			$result = mysql_query($sql, $this->ligacao);						if (!$result) {			    $this->handleError($sql);			}			return $result;		}				function insere($tabela, $colunas, $valores){			$sql = "Insert into ". $tabela . " ( ". $colunas ." ) values ( ". $valores . " )";			mysql_query($sql, $this->ligacao);			$novo_id = mysql_insert_id();			return $novo_id;			 		}				function actualiza($tabela, $colunas, $valores, $condicao = null){			$sql = "Update ". $tabela ." set ";			$i = 0;			$numCols = count($colunas);			foreach ($colunas as $index=>$col){				$i++;				$sql .= $col =" '". $valores[$index] ."' ";				if($i != $numCols){					$sql .= ", ";				}						}						if($condicao){				$slq .= " where " . $condicao;			}						 $result = mysql_query($sql, $this->ligacao);			 if (!$result) {			    $this->handleError($sql);			}			 return $result;					}				function apaga($tabela, $condicao = null){			$sql = "Delete from ". $tabela;						if($condicao){				$slq .= " where " . $condicao;			}						//por segurana			$sql .= " limit 0,1";						 $result = mysql_query($sql, $this->ligacao);			 if (!$result) {			    $this->handleError($sql);			}             return $result;		}        function db_close() {                return mysql_close($this->ligacao);        }				function handleError($query){				$message  = 'Invalid query: ' . mysql_error() . "\n";			    $message .= 'Whole query: ' . $query;			    die($message);		}       }?>